<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>DOM</title>
   <script src="jquery.js"></script>
   <script type="text/javascript">
       document.write('<link rel="stylesheet" type="text/css" href="style.css?'+Math.random()+'"/>');
   </script>  

    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            background: grey;
        }

        #map {
            height: 100%;
        }
        
        .btn-style, input, select {
            padding: 5px;
            margin: 10px 0 10px 5px;
        }
        
        .locationLat, .locationLng {
            width: 50px;
        }
        
    </style>

</head>

<body>
    
    <div class="navbar">
        <input type="text" placeholder="X" class="locationLat" id="inputLoc">
        <input type="text" placeholder="Y" class="locationLng" id="inputLoc">
        <input type="text" placeholder="Berlin, Germany" class="location" id="inputLoc">
        <button class="add-btn btn-style">Add location!</button>
        <button class="zoom-out-btn btn-style">Zoom out</button>
        <button class="remove-btn btn-style">Remove:</button>
        <select name="" id="locations">
            <!--<option>Berlin</option>
            <option>Mount Everest</option>
            <option>Dubai</option>
            <option>5th avenau, New York City</option>
            <option>Mariana Trench</option>-->
        </select>
        
        
    </div>

    <div id="map">
        <script>
            var map;

            function initMap() {
                let startPosition = {
                    lat: 39.730,
                    lng: 3.013,
                };
                // the map
                map = new google.maps.Map(document.getElementById('map'), {
                    center: startPosition,
                    zoom: 8
                });
                
                function initMap() {
                   map = new google.maps.Map(document.getElementById('map'), 
                   { center: { lat: 34.397, lng: 15.644 }, zoom: 8 });
                }
                
                var locValue;
                
                $('.add-btn').click(function() {
                    if(locValue == '') {
                        //locValueCoords = parseFloat($('.location').val());
                        locValueLat = parseFloat($('.locationLat').val());
                        //console.log(locValueLat);
                        locValueLng = parseFloat($('.locationLng').val());
                        //console.log(locValueLng);
                        //jump immediately to the place on the map:
                        map = new google.maps.Map(document.getElementById('map'),
                        { center: { lat: locValueLat, lng: locValueLng }, zoom: 8 });
                       
                       } else {
                            locValue = $('.location').val();
                            $('#locations').append('<option value=' + locValue + '>' + locValue + '</option>');
                            console.log(locValue);
                       }
                    

                    
                });
                
                $('.remove-btn').click(function() {
                    console.log('remove btn clicked');
                    $('#locations option[value=' + locValue + ']').remove();
                });
                
                
                

                /*setTimeout(function() {
                    map.setCenter({
                        lat: 22.000,
                        lng: 35.000
                    });
                    map.setZoom(5);
                }, 5000);*/

            }
        </script>
    

    </div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBPL5FbwKVlLkZL0quNPnsi3dOpK-d59Ko&callback=initMap" async defer>
    </script>
    <script type="text/javascript">
       document.write('<scr'+'ipt src="googlemaps.js?' + Math.random() + '" type="text/javascript"></scr'+'ipt>');
   </script>


</body>
</html>